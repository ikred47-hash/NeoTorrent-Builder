      - name: Build Android APK
        run: |
          # Wipe the corrupted boost build specifically
          rm -rf .buildozer/android/platform/build-arm64-v8a/build/other_builds/boost
          
          # Install Buildozer and fixed Cython
          pip install --upgrade pip
          pip install "Cython<3.0" buildozer setuptools
          
          # Auto-accept licenses again just in case
          yes | /home/runner/.buildozer/android/platform/android-sdk/tools/bin/sdkmanager --sdk_root=/home/runner/.buildozer/android/platform/android-sdk --licenses || true
          
          # Run the build
          buildozer -v android debug
        env:
          APP_ANDROID_ARCHS: "arm64-v8a"
          GRADLE_OPTS: "-Xmx4g"
          # CXXFLAGS fix: Tell the compiler to be less strict about the Python 3.11 changes
          CXXFLAGS: "-Wno-error=enum-enum-conversion -Wno-error=deprecated-declarations"
